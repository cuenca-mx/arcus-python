interactions:
- request:
    body: '{"biller_id": 35, "account_number": "123456851236"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:rMCeZuJ4bd6S4LFiKrZDYdF/KmU=']
      Connection: [keep-alive]
      Content-Length: ['51']
      Content-MD5: [PwKwTwz6VF3g47PSroLXIQ==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:31 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills
  response:
    body: {string: '{"type":"bill","id":8392,"biller_id":35,"account_number":"123456851236","name_on_account":null,"due_date":null,"balance":56.0,"balance_currency":"MXN","balance_updated_at":"2019-02-22T17:54:31Z","error_code":null,"error_message":null,"status":"linked","migrated_at":null,"mfa_challenges":[]}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:32 GMT']
      ETag: [W/"40ef865105338ce70a2d88d90fcfdaee"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [b90c6718-9efd-4194-adfc-c00d5d728d49]
      X-Runtime: ['1.063002']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"amount": 56.0, "currency": "MXN"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:1HpaB6eb4sp1eZwoX329hD4jsqY=']
      Connection: [keep-alive]
      Content-Length: ['35']
      Content-MD5: [rdbjwubSfYIGnp5/M07OMA==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:32 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills/8392/pay
  response:
    body: {string: '{"type":"transaction","id":48835,"amount":56.0,"amount_currency":"MXN","fx_rate":1.0,"amount_usd":2.91,"transaction_fee":3.0,"total_usd":3.06,"hours_to_fulfill":24,"created_at":"2019-02-22T17:54:33Z","status":"sent"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:33 GMT']
      ETag: [W/"41b094141198337d062fb8a1c19b5b84"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [cfc884f1-155d-4f81-9b6f-6ea2a8b1e85a]
      X-Runtime: ['0.098937']
      X-XSS-Protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: '{"id": 48835}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:EcWSXCwz6DoTdKwUfaF3m+5dO3I=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [zPLN3ffFJGLJYmnAeJGfJw==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:33 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R0","message":"Transaction successful","mode":"STAGING"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:33 GMT']
      ETag: [W/"db0d73e6dab3e6ac7e916f3c7659ec9f"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [d964e91b-84ef-4eb3-bd79-70a09ccd2e0d]
      X-Runtime: ['0.075170']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"id": 48835}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:EcWSXCwz6DoTdKwUfaF3m+5dO3I=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [zPLN3ffFJGLJYmnAeJGfJw==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:33 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R103","message":"Transaction already reversed","mode":"STAGING"}'}
    headers:
      Cache-Control: [no-cache]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:33 GMT']
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [3b506775-bad1-4f57-8861-3c74dee05042]
      X-Runtime: ['0.019504']
      X-XSS-Protection: [1; mode=block]
    status: {code: 422, message: Unprocessable Entity}
- request:
    body: '{"biller_id": 37, "account_number": "7259047384"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:kpXD57rvfEQQVIuNZkwJufi4ms4=']
      Connection: [keep-alive]
      Content-Length: ['49']
      Content-MD5: [62F3V1wBjtV3NfAN13xtMg==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:33 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills
  response:
    body: {string: '{"type":"bill","id":12617,"biller_id":37,"account_number":"7259047384","name_on_account":null,"due_date":null,"balance":470.0,"balance_currency":"MXN","balance_updated_at":"2019-02-22T17:54:34Z","error_code":null,"error_message":null,"status":"linked","migrated_at":null,"mfa_challenges":[]}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:35 GMT']
      ETag: [W/"51dbb10ab383fed3316b27fe130c3cbf"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [90d553c1-b95f-4529-b8a4-2857bdaaa9c7]
      X-Runtime: ['1.067270']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"amount": 470.0, "currency": "MXN"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:onezANFfwCpnTq+hZoUrUa1s7Cg=']
      Connection: [keep-alive]
      Content-Length: ['36']
      Content-MD5: [9vVR1zPIpp/uzfEWqCaShg==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:35 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills/12617/pay
  response:
    body: {string: '{"type":"transaction","id":48836,"amount":470.0,"amount_currency":"MXN","fx_rate":1.0,"amount_usd":24.39,"transaction_fee":3.0,"total_usd":24.55,"hours_to_fulfill":48,"created_at":"2019-02-22T17:54:35Z","status":"sent"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:35 GMT']
      ETag: [W/"709bf9e5aeadb33add0b136a5f935e38"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [84650319-6e52-4ea7-9dce-2b436cd03b07]
      X-Runtime: ['0.101431']
      X-XSS-Protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: '{"id": 48836}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:fzI8pORD33QH7R1yw2pKd1mZv/k=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [x484+3ol67KyYifIylWDSA==]
      Content-Type: [application/json]
      Date: ['Fri, 22 Feb 2019 17:54:35 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R26","message":"Reversal not supported for this biller","mode":"STAGING"}'}
    headers:
      Cache-Control: [no-cache]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 22 Feb 2019 17:54:35 GMT']
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [51c1902f-3f1d-4a7e-b4c4-8ad5f7a9e828]
      X-Runtime: ['0.044840']
      X-XSS-Protection: [1; mode=block]
    status: {code: 422, message: Unprocessable Entity}
version: 1
