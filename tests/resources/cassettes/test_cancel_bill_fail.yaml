interactions:
- request:
    body: '{"biller_id": 35, "account_number": "123456851236"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:h1+1flocxMiIfCxdwAFfG+a7YKY=']
      Connection: [keep-alive]
      Content-Length: ['51']
      Content-MD5: [PwKwTwz6VF3g47PSroLXIQ==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:14 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills
  response:
    body: {string: '{"type":"bill","id":8392,"biller_id":35,"account_number":"123456851236","name_on_account":null,"due_date":null,"balance":527.0,"balance_currency":"MXN","balance_updated_at":"2019-02-21T21:56:15Z","error_code":null,"error_message":null,"status":"linked","migrated_at":null,"mfa_challenges":[]}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:16 GMT']
      ETag: [W/"aa92383f0fc6bdd30e8551f63ea0a2ab"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [302d1f10-8f8e-412c-a184-04f4607153ee]
      X-Runtime: ['1.057503']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"amount": 527.0, "currency": "MXN"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:Nm1EDi29iv5j0ujZ0nZr6kyu7Ss=']
      Connection: [keep-alive]
      Content-Length: ['36']
      Content-MD5: [xEUcEf55V9uSgDI+2HH4MQ==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:16 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills/8392/pay
  response:
    body: {string: '{"type":"transaction","id":48750,"amount":527.0,"amount_currency":"MXN","fx_rate":1.0,"amount_usd":27.4,"transaction_fee":3.0,"total_usd":27.56,"hours_to_fulfill":24,"created_at":"2019-02-21T21:56:16Z","status":"sent"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:16 GMT']
      ETag: [W/"ba815680663e51f9b12556a8ff70a9f2"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [244bc553-3a5e-4bba-bbec-2af9b08e6a69]
      X-Runtime: ['0.071275']
      X-XSS-Protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: '{"id": 48750}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:P7mEYbm+oo5o+5l4hDWNgX4Ybj4=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [OcYuWz0ND1vku+ZjVG9Zqw==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:16 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R0","message":"Transaction successful","mode":"STAGING"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:17 GMT']
      ETag: [W/"db0d73e6dab3e6ac7e916f3c7659ec9f"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [fdeaaf0b-48fe-469b-9397-b402d02ba96c]
      X-Runtime: ['0.058818']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"id": 48750}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:T1UTETxQI07koWLy+ZY4u8K/qwE=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [OcYuWz0ND1vku+ZjVG9Zqw==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:17 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R103","message":"Transaction already reversed","mode":"STAGING"}'}
    headers:
      Cache-Control: [no-cache]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:17 GMT']
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [f5fbd636-22d9-44c2-9b23-410f45eb9b5b]
      X-Runtime: ['0.018754']
      X-XSS-Protection: [1; mode=block]
    status: {code: 422, message: Unprocessable Entity}
- request:
    body: '{"biller_id": 37, "account_number": "7259047384"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:w9Zan+56a7jKQtm24b0R8IiJyPo=']
      Connection: [keep-alive]
      Content-Length: ['49']
      Content-MD5: [62F3V1wBjtV3NfAN13xtMg==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:17 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills
  response:
    body: {string: '{"type":"bill","id":12617,"biller_id":37,"account_number":"7259047384","name_on_account":null,"due_date":null,"balance":624.0,"balance_currency":"MXN","balance_updated_at":"2019-02-21T21:56:17Z","error_code":null,"error_message":null,"status":"linked","migrated_at":null,"mfa_challenges":[]}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:18 GMT']
      ETag: [W/"78583c86d696fe8c2d4589c13569c2ee"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [b5f4996d-de29-4f74-b766-4092830c1606]
      X-Runtime: ['1.056125']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"amount": 624.0, "currency": "MXN"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:GAFvQCfqFB0vFbmqLMAg40BEq3o=']
      Connection: [keep-alive]
      Content-Length: ['36']
      Content-MD5: [l/wWViM0GeFooOqFfpoLkw==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:18 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills/12617/pay
  response:
    body: {string: '{"type":"transaction","id":48751,"amount":624.0,"amount_currency":"MXN","fx_rate":1.0,"amount_usd":32.45,"transaction_fee":3.0,"total_usd":32.6,"hours_to_fulfill":48,"created_at":"2019-02-21T21:56:19Z","status":"sent"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:19 GMT']
      ETag: [W/"7332301a5e3ddf04cf97723874469d28"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [772e91fb-2dc9-4158-bd29-9cb4e0ae9d05]
      X-Runtime: ['0.091022']
      X-XSS-Protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: '{"id": 48751}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:paBQVsqhp6acy65HEAajp5PuwLI=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [87dYZIHwKZCaPUTF0WM3oA==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 21:56:19 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R26","message":"Reversal not supported for this biller","mode":"STAGING"}'}
    headers:
      Cache-Control: [no-cache]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 21:56:19 GMT']
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [6d72cbe8-d824-4581-85f9-4f26e893d061]
      X-Runtime: ['0.026684']
      X-XSS-Protection: [1; mode=block]
    status: {code: 422, message: Unprocessable Entity}
version: 1
