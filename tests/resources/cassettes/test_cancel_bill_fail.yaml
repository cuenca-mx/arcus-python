interactions:
- request:
    body: '{"biller_id": 35, "account_number": "123456851236"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:ilgAeDGWHoxVrkA4By/zKPX8xhc=']
      Connection: [keep-alive]
      Content-Length: ['51']
      Content-MD5: [PwKwTwz6VF3g47PSroLXIQ==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:05 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills
  response:
    body: {string: '{"type":"bill","id":8392,"biller_id":35,"account_number":"123456851236","name_on_account":null,"due_date":null,"balance":194.0,"balance_currency":"MXN","balance_updated_at":"2019-02-21T00:56:05Z","error_code":null,"error_message":null,"status":"linked","migrated_at":null,"mfa_challenges":[]}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:06 GMT']
      ETag: [W/"e9c3171a78f052dd964b5d323c80579b"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [c64f657b-b559-42d8-b66a-cea29274351e]
      X-Runtime: ['1.056386']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"amount": 194.0, "currency": "MXN"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:KFCRBtLe3xvr0MINxQcbNE0UsXM=']
      Connection: [keep-alive]
      Content-Length: ['36']
      Content-MD5: [Pb7gTa06vt7eJ3vKKO4U1Q==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:07 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills/8392/pay
  response:
    body: {string: '{"type":"transaction","id":48678,"amount":194.0,"amount_currency":"MXN","fx_rate":1.0,"amount_usd":10.11,"transaction_fee":3.0,"total_usd":10.26,"hours_to_fulfill":24,"created_at":"2019-02-21T00:56:08Z","status":"sent"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:08 GMT']
      ETag: [W/"454b869d3a1cbb25ccbdbadfd68a5058"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [77225b25-724e-4b42-9e06-9b2ef7bae5dc]
      X-Runtime: ['0.072585']
      X-XSS-Protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: '{"id": 48678}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:Yg0d9pTj9ws2u9Ju766Tis+Y++w=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [1I28/Y/MxnySEkzn7uxnUA==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:08 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R0","message":"Transaction successful","mode":"STAGING"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:08 GMT']
      ETag: [W/"db0d73e6dab3e6ac7e916f3c7659ec9f"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [d8f10555-0439-415c-8e23-0d0290011da0]
      X-Runtime: ['0.084883']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"id": 48678}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:Yg0d9pTj9ws2u9Ju766Tis+Y++w=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [1I28/Y/MxnySEkzn7uxnUA==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:08 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R103","message":"Transaction already reversed","mode":"STAGING"}'}
    headers:
      Cache-Control: [no-cache]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:08 GMT']
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [c0f54a56-0858-400d-9a23-b243a4fab01d]
      X-Runtime: ['0.018656']
      X-XSS-Protection: [1; mode=block]
    status: {code: 422, message: Unprocessable Entity}
- request:
    body: '{"biller_id": 37, "account_number": "7259047384"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:G02ZOrAmGvI25bL61hCi+JzysIU=']
      Connection: [keep-alive]
      Content-Length: ['49']
      Content-MD5: [62F3V1wBjtV3NfAN13xtMg==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:08 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills
  response:
    body: {string: '{"type":"bill","id":12617,"biller_id":37,"account_number":"7259047384","name_on_account":null,"due_date":null,"balance":311.0,"balance_currency":"MXN","balance_updated_at":"2019-02-21T00:56:09Z","error_code":null,"error_message":null,"status":"linked","migrated_at":null,"mfa_challenges":[]}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:10 GMT']
      ETag: [W/"d370261b5e3d0d8d4f592a2154535218"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [5f1e40a4-2e10-40ae-96f6-9bc01ecd7051]
      X-Runtime: ['1.056771']
      X-XSS-Protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: '{"amount": 311.0, "currency": "MXN"}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:lTYkRv/iVJzVFVXnbZA1DIdZgGo=']
      Connection: [keep-alive]
      Content-Length: ['36']
      Content-MD5: [aAa1PtHwa8dLaopjzBnJ8w==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:11 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/bills/12617/pay
  response:
    body: {string: '{"type":"transaction","id":48679,"amount":311.0,"amount_currency":"MXN","fx_rate":1.0,"amount_usd":16.2,"transaction_fee":3.0,"total_usd":16.36,"hours_to_fulfill":48,"created_at":"2019-02-21T00:56:11Z","status":"sent"}'}
    headers:
      Cache-Control: ['max-age=0, private, must-revalidate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:11 GMT']
      ETag: [W/"22f0463b4e6ddc19cd523caf9da16d99"]
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [65683c2a-a4c9-472c-9da1-14456612c8a9]
      X-Runtime: ['0.086105']
      X-XSS-Protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: '{"id": 48679}'
    headers:
      Accept: [application/vnd.regalii.v3.1+json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: ['APIAuth 88879c1b066dc9aea6201f27be2bbba9:C9/zQpR5jzdr8twbdMuKbM3kbM8=']
      Connection: [keep-alive]
      Content-Length: ['13']
      Content-MD5: [Hgm0yAywJmPMtYNCJVmtkA==]
      Content-Type: [application/json]
      Date: ['Thu, 21 Feb 2019 00:56:11 GMT']
      User-Agent: [python-requests/2.21.0]
    method: POST
    uri: https://api.casiregalii.com/transaction/cancel
  response:
    body: {string: '{"code":"R26","message":"Reversal not supported for this biller","mode":"STAGING"}'}
    headers:
      Cache-Control: [no-cache]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Thu, 21 Feb 2019 00:56:12 GMT']
      Strict-Transport-Security: [max-age=31536000]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      X-Frame-Options: [SAMEORIGIN]
      X-Request-Id: [54c363d2-4a7e-460d-a155-9d44853f8ac8]
      X-Runtime: ['0.019388']
      X-XSS-Protection: [1; mode=block]
    status: {code: 422, message: Unprocessable Entity}
version: 1
